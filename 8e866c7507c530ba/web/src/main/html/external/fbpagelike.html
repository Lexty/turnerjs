<script>
    function getUrlQueryObj() {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        var res = {};
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split("=");
            res[pair[0]] = pair[1];
        }
        return res;
    }
</script>

<style>
    body {
        margin: 0;
    }
</style>

<div class="fb-page" data-href="https://www.facebook.com/wix"
     data-width="280" data-hide-cover="false" data-show-facepile="false"
     data-show-posts="false">
</div>

<script>
    var pageLikeElement = document.getElementsByClassName('fb-page')[0];
    var urlQueryObj = getUrlQueryObj();
    var keys = Object.keys(urlQueryObj);
    var fbRoot = document.getElementById('fb-root');

    if (!fbRoot) {
        var div = document.createElement('div');
        div.id = 'fb-root';
        var body = document.getElementsByTagName('body')[0];
        body.appendChild(div);
    }


    keys.forEach(function (key) {
        pageLikeElement.setAttribute(key, urlQueryObj[key]);
    });

    window.fbAsyncInit = function () {
        FB.init({
            appId: '304553036307597',
            xfbml: true,
            version: 'v2.3'
        });
    };

    function getFacebookSdkLanguage() {
        var languageDecode = {
            en: 'en_US',
            es: 'es_ES',
            pt: 'pt_BR',
            ru: 'ru_RU',
            fr: 'fr_FR',
            de: 'de_DE',
            ja: 'ja_JP',
            ko: 'ko_KR',
            it: 'it_IT',
            pl: 'pl_PL',
            tr: 'tr_TR',
            nl: 'nl_NL',
            sv: 'sv_SE',
            no: 'nn_NO'
        };
        // browserLanguage in IE10 and lower
        var languageCode = navigator && (navigator.language || navigator.browserLanguage);
        if (languageCode.indexOf('-') > -1) {
            languageCode = languageCode.replace('-', '_');
            return languageCode;
        }
        languageCode = languageDecode[languageCode] || 'en_US';
        return languageCode;
    }

    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];

        if (d.getElementById(id)) {
            return;
        }
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/" + getFacebookSdkLanguage() + "/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

