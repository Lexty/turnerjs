<style>
    body {
        margin: 0;
    }
</style>
<iframe id='twt' allowtransparency="true" frameborder="0" scrolling="no"></iframe>
<script type="text/javascript">

    var WIDGETS = {
        FOLLOW: 'follow_button',
        TWEET: 'tweet_button'
    };

    var iframeNode = document.getElementById('twt');
    var urlParams = getUrlParams();

    window.addEventListener('message', function (event) {
        var size;
        var originRegexp = /https?:\/\/platform\.twitter\.com/ig;
        if (!originRegexp.test(event.origin)) {
            return;
        } else if (!event.data["twttr.button"]) {
            return;
        }

        size = event.data["twttr.button"].params[0];
        iframeNode.width = size.width;
        iframeNode.height = size.height;

        window.parent.postMessage({type: 'twitterSize', size: size, compId: urlParams.compId}, decodeURIComponent(urlParams.origin));
    });

    iframeNode.src = "//platform.twitter.com/widgets/"+WIDGETS[urlParams.widgetType]+".html" + window.location.search;

    function getUrlParams() {
        return location.search.substr(1).split('&').reduce(function (res, value) {
            var split = value.split('=');
            res[split[0]] = split[1];
            return res;
        }, {});
    }

</script>